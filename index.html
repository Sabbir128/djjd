<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsDaily - Modern News Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #ff6b35;
            --secondary: #004e89;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --gray: #6c757d;
            --card-bg: #ffffff;
            --text: #333333;
            --border: #e0e0e0;
        }

        [data-theme="dark"] {
            --light: #0f0f1a;
            --card-bg: #1a1a2e;
            --text: #e0e0e0;
            --border: #2a2a3e;
            --gray: #a0a0a0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light);
            color: var(--text);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        /* Header */
        .top-bar {
            background: var(--dark);
            color: white;
            padding: 8px 0;
            font-size: 0.9rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .top-bar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .breaking-news {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .breaking-label {
            background: var(--primary);
            padding: 2px 8px;
            border-radius: 3px;
            font-weight: bold;
            font-size: 0.75rem;
            text-transform: uppercase;
        }

        .header-main {
            background: var(--card-bg);
            padding: 20px 0;
            border-bottom: 3px solid var(--primary);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--dark);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo span {
            color: var(--primary);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--text);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9rem;
            position: relative;
            transition: color 0.3s;
        }

        .nav-menu a:hover {
            color: var(--primary);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,107,53,0.3);
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--border);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            transform: rotate(180deg);
            border-color: var(--primary);
        }

        /* Hero Section */
        .hero-section {
            padding: 40px 0;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .hero-main {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            height: 500px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .hero-main:hover {
            transform: scale(1.02);
        }

        .hero-main img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 40px;
            color: white;
        }

        .category-tag {
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            display: inline-block;
            margin-bottom: 15px;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 15px;
        }

        .hero-meta {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .hero-side {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .side-card {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            height: 153px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .side-card:hover {
            transform: translateX(10px);
        }

        .side-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .side-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            padding: 20px;
            color: white;
        }

        .side-title {
            font-size: 1.1rem;
            font-weight: 700;
            line-height: 1.3;
        }

        /* News Grid */
        .section-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
            padding-bottom: 15px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--primary);
            border-radius: 2px;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .news-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .news-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .news-card:hover .news-image {
            transform: scale(1.1);
        }

        .news-content {
            padding: 25px;
        }

        .news-category {
            color: var(--primary);
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .news-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .news-excerpt {
            color: var(--gray);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 20px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--gray);
            border-top: 1px solid var(--border);
            padding-top: 15px;
        }

        .author {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .author-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .admin-container {
            background: var(--card-bg);
            max-width: 800px;
            margin: 50px auto;
            border-radius: 20px;
            padding: 40px;
            position: relative;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .close-admin {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-admin:hover {
            background: var(--primary);
            color: white;
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            background: var(--light);
            color: var(--text);
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .image-preview {
            width: 100%;
            height: 200px;
            border: 2px dashed var(--border);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            overflow: hidden;
            background: var(--light);
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border);
        }

        .admin-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            position: relative;
            transition: color 0.3s;
        }

        .admin-tab.active {
            color: var(--primary);
        }

        .admin-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .posts-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .post-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--light);
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }

        .post-item:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .post-info h4 {
            margin-bottom: 5px;
            color: var(--text);
        }

        .post-info small {
            color: var(--gray);
        }

        .post-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 5px 15px;
            font-size: 0.85rem;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        /* Article Page */
        .article-page {
            display: none;
            max-width: 800px;
            margin: 40px auto;
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .article-header {
            position: relative;
            height: 400px;
        }

        .article-header img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .article-header-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 40px;
            color: white;
        }

        .article-body {
            padding: 40px;
        }

        .article-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .article-content {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text);
        }

        .article-content p {
            margin-bottom: 20px;
        }

        .back-btn {
            margin-bottom: 20px;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 10px;
        }

        .footer-section a {
            color: #aaa;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--primary);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #333;
            color: #aaa;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text);
        }

        @media (max-width: 768px) {
            .hero-grid {
                grid-template-columns: 1fr;
            }

            .hero-main {
                height: 300px;
            }

            .hero-title {
                font-size: 1.5rem;
            }

            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--card-bg);
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            }

            .nav-menu.active {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .news-grid {
                grid-template-columns: 1fr;
            }

            .admin-container {
                margin: 20px;
                padding: 20px;
            }
        }

        /* Loading Animation */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--dark);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            display: none;
            align-items: center;
            gap: 10px;
            z-index: 2000;
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .toast.show {
            display: flex;
        }

        .toast.success {
            background: #28a745;
        }

        .toast.error {
            background: #dc3545;
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="breaking-news">
                    <span class="breaking-label">Breaking</span>
                    <span id="ticker-text">Loading latest news...</span>
                </div>
                <div>
                    <span id="current-date"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header-main">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" onclick="showHome()">
                    <span>News</span>Daily
                </a>
                
                <nav>
                    <ul class="nav-menu" id="navMenu">
                        <li><a href="#" onclick="filterCategory('all')">Home</a></li>
                        <li><a href="#" onclick="filterCategory('politics')">Politics</a></li>
                        <li><a href="#" onclick="filterCategory('technology')">Technology</a></li>
                        <li><a href="#" onclick="filterCategory('sports')">Sports</a></li>
                        <li><a href="#" onclick="filterCategory('entertainment')">Entertainment</a></li>
                    </ul>
                </nav>

                <div class="header-actions">
                    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">üåì</button>
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
                    <button class="btn btn-primary" onclick="openAdmin()">Admin Panel</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="hero-grid" id="heroSection">
                    <!-- Dynamic content -->
                </div>
            </div>
        </section>

        <!-- Latest News -->
        <section class="container">
            <h2 class="section-title">Latest News</h2>
            <div class="news-grid" id="newsGrid">
                <!-- Dynamic content -->
            </div>
        </section>
    </main>

    <!-- Article Page -->
    <article class="article-page" id="articlePage">
        <div class="article-header">
            <img id="articleImage" src="" alt="">
            <div class="article-header-content">
                <span class="category-tag" id="articleCategory"></span>
                <h1 id="articleTitle"></h1>
                <div class="hero-meta">
                    <span id="articleAuthor"></span>
                    <span id="articleDate"></span>
                </div>
            </div>
        </div>
        <div class="article-body">
            <button class="btn btn-secondary back-btn" onclick="showHome()">‚Üê Back to News</button>
            <div class="article-meta">
                <span id="articleReadTime"></span>
                <span id="articleViews"></span>
            </div>
            <div class="article-content" id="articleContent"></div>
        </div>
    </article>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-container">
            <div class="admin-header">
                <h2>Admin Panel</h2>
                <button class="close-admin" onclick="closeAdmin()">√ó</button>
            </div>

            <div class="admin-tabs">
                <button class="admin-tab active" onclick="switchTab('new')">New Post</button>
                <button class="admin-tab" onclick="switchTab('manage')">Manage Posts</button>
                <button class="admin-tab" onclick="switchTab('settings')">Settings</button>
            </div>

            <!-- New Post Tab -->
            <div class="tab-content active" id="tab-new">
                <form id="postForm" onsubmit="savePost(event)">
                    <div class="form-group">
                        <label>Post Title</label>
                        <input type="text" id="postTitle" required placeholder="Enter post title...">
                    </div>

                    <div class="form-group">
                        <label>Category</label>
                        <select id="postCategory" required>
                            <option value="politics">Politics</option>
                            <option value="technology">Technology</option>
                            <option value="sports">Sports</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="business">Business</option>
                            <option value="health">Health</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Featured Image URL</label>
                        <input type="url" id="postImage" placeholder="https://example.com/image.jpg" onchange="previewImage()">
                        <div class="image-preview" id="imagePreview">
                            <span>No image selected</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Excerpt (Short Description)</label>
                        <textarea id="postExcerpt" rows="3" required placeholder="Brief summary of the article..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Content (Full Article)</label>
                        <textarea id="postContent" rows="10" required placeholder="Write your full article here..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Author Name</label>
                        <input type="text" id="postAuthor" required placeholder="Your name">
                    </div>

                    <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">
                        Publish Post
                    </button>
                </form>
            </div>

            <!-- Manage Posts Tab -->
            <div class="tab-content" id="tab-manage">
                <div class="posts-list" id="postsList">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="tab-settings">
                <div class="form-group">
                    <label>Site Name</label>
                    <input type="text" id="siteName" value="NewsDaily">
                </div>
                <div class="form-group">
                    <label>Breaking News Ticker</label>
                    <input type="text" id="tickerText" value="Breaking: Major developments in global markets today...">
                </div>
                <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
                <button class="btn btn-danger" onclick="exportData()" style="margin-top: 10px; width: 100%;">
                    Export All Data (JSON)
                </button>
                <div class="form-group" style="margin-top: 20px;">
                    <label>Import Data (JSON)</label>
                    <textarea id="importData" rows="5" placeholder="Paste JSON data here..."></textarea>
                    <button class="btn btn-secondary" onclick="importData()" style="margin-top: 10px; width: 100%;">
                        Import Data
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>About NewsDaily</h3>
                    <p>Your trusted source for breaking news, in-depth analysis, and exclusive stories from around the world.</p>
                </div>
                <div class="footer-section">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="#" onclick="filterCategory('politics')">Politics</a></li>
                        <li><a href="#" onclick="filterCategory('technology')">Technology</a></li>
                        <li><a href="#" onclick="filterCategory('sports')">Sports</a></li>
                        <li><a href="#" onclick="filterCategory('entertainment')">Entertainment</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 NewsDaily. All rights reserved. | <a href="#" onclick="openAdmin()" style="color: var(--primary);">Admin Login</a></p>
            </div>
        </div>
    </footer>

    <script>
        // Data Management
        let posts = JSON.parse(localStorage.getItem('newsPosts')) || [];
        let settings = JSON.parse(localStorage.getItem('newsSettings')) || {
            siteName: 'NewsDaily',
            tickerText: 'Breaking: Major developments in global markets today...'
        };

        // Sample data if empty
        if (posts.length === 0) {
            posts = [
                {
                    id: 1,
                    title: "Global Summit Reaches Historic Climate Agreement",
                    category: "politics",
                    image: "https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800",
                    excerpt: "World leaders have unanimously agreed on ambitious new targets to combat climate change by 2030.",
                    content: "<p>In a landmark decision that has been hailed as 'turning point for humanity,' representatives from 195 countries have agreed to binding emissions targets that aim to limit global warming to 1.5 degrees Celsius.</p><p>The agreement, reached after two weeks of intense negotiations, includes unprecedented funding mechanisms for developing nations and strict monitoring protocols.</p><p>'This is not just a document; it is a promise to future generations,' said the UN Secretary-General during the closing ceremony.</p>",
                    author: "Sarah Johnson",
                    date: new Date().toISOString(),
                    views: 1240
                },
                {
                    id: 2,
                    title: "Revolutionary AI Chip Promises 100x Speed Improvement",
                    category: "technology",
                    image: "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800",
                    excerpt: "Tech giant unveils new quantum-inspired processor that could transform artificial intelligence applications.",
                    content: "<p>The new 'NeuroCore' processor represents a fundamental shift in computing architecture, utilizing optical pathways instead of traditional electrical circuits.</p><p>Early benchmarks suggest the chip can train large language models in hours rather than weeks, potentially democratizing access to AI development.</p><p>Industry experts are calling this the most significant advancement since the invention of the transistor.</p>",
                    author: "Michael Chen",
                    date: new Date(Date.now() - 86400000).toISOString(),
                    views: 892
                },
                {
                    id: 3,
                    title: "Underdog Team Wins Championship in Stunning Victory",
                    category: "sports",
                    image: "https://images.unsplash.com/photo-1461896836934- voices- 5e0d9f0f5b5b?w=800",
                    excerpt: "In one of the greatest upsets in sports history, the seventh-seeded team claims the title.",
                    content: "<p>What started as a seemingly ordinary season finale turned into a legendary performance that will be remembered for decades.</p><p>The team's star player, who had been battling injury throughout the playoffs, delivered a masterclass performance in the final quarter.</p><p>Fans stormed the court in celebration as the final buzzer sounded, marking the end of a 47-year championship drought.</p>",
                    author: "David Rodriguez",
                    date: new Date(Date.now() - 172800000).toISOString(),
                    views: 2156
                }
            ];
            saveToStorage();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderPosts();
            updateDate();
            loadTheme();
            document.getElementById('ticker-text').textContent = settings.tickerText;
        });

        // Storage Functions
        function saveToStorage() {
            localStorage.setItem('newsPosts', JSON.stringify(posts));
            localStorage.setItem('newsSettings', JSON.stringify(settings));
        }

        // Rendering
        function renderPosts(category = 'all') {
            const filtered = category === 'all' ? posts : posts.filter(p => p.category === category);
            const sorted = filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Hero Section
            const heroSection = document.getElementById('heroSection');
            if (sorted.length > 0) {
                const main = sorted[0];
                const sides = sorted.slice(1, 4);
                
                heroSection.innerHTML = `
                    <div class="hero-main" onclick="openArticle(${main.id})">
                        <img src="${main.image}" alt="${main.title}" onerror="this.src='https://via.placeholder.com/800x500?text=NewsDaily'">
                        <div class="hero-overlay">
                            <span class="category-tag">${main.category}</span>
                            <h1 class="hero-title">${main.title}</h1>
                            <div class="hero-meta">
                                <span>By ${main.author}</span>
                                <span>${formatDate(main.date)}</span>
                                <span>${main.views} views</span>
                            </div>
                        </div>
                    </div>
                    <div class="hero-side">
                        ${sides.map(post => `
                            <div class="side-card" onclick="openArticle(${post.id})">
                                <img src="${post.image}" alt="${post.title}" onerror="this.src='https://via.placeholder.com/400x200?text=News'">
                                <div class="side-overlay">
                                    <span class="category-tag" style="font-size: 0.7rem; padding: 2px 8px;">${post.category}</span>
                                    <h3 class="side-title">${post.title}</h3>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            // News Grid
            const grid = document.getElementById('newsGrid');
            const gridPosts = sorted.slice(4);
            
            if (gridPosts.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: var(--gray);">No more articles available.</p>';
            } else {
                grid.innerHTML = gridPosts.map(post => `
                    <article class="news-card" onclick="openArticle(${post.id})">
                        <div style="overflow: hidden;">
                            <img class="news-image" src="${post.image}" alt="${post.title}" onerror="this.src='https://via.placeholder.com/400x300?text=NewsDaily'">
                        </div>
                        <div class="news-content">
                            <div class="news-category">${post.category}</div>
                            <h3 class="news-title">${post.title}</h3>
                            <p class="news-excerpt">${post.excerpt}</p>
                            <div class="news-meta">
                                <div class="author">
                                    <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(post.author)}&background=random" class="author-avatar" alt="">
                                    <span>${post.author}</span>
                                </div>
                                <span>${formatDate(post.date)}</span>
                            </div>
                        </div>
                    </article>
                `).join('');
            }
        }

        // Article View
        function openArticle(id) {
            const post = posts.find(p => p.id === id);
            if (!post) return;

            post.views++;
            saveToStorage();

            document.getElementById('mainContent').style.display = 'none';
            document.querySelector('footer').style.display = 'none';
            const articlePage = document.getElementById('articlePage');
            articlePage.style.display = 'block';
            
            document.getElementById('articleImage').src = post.image;
            document.getElementById('articleCategory').textContent = post.category;
            document.getElementById('articleTitle').textContent = post.title;
            document.getElementById('articleAuthor').textContent = `By ${post.author}`;
            document.getElementById('articleDate').textContent = formatDate(post.date);
            document.getElementById('articleReadTime').textContent = `${Math.ceil(post.content.length / 1000)} min read`;
            document.getElementById('articleViews').textContent = `${post.views} views`;
            document.getElementById('articleContent').innerHTML = post.content;
            
            window.scrollTo(0, 0);
        }

        function showHome() {
            document.getElementById('mainContent').style.display = 'block';
            document.querySelector('footer').style.display = 'block';
            document.getElementById('articlePage').style.display = 'none';
            window.scrollTo(0, 0);
        }

        // Admin Functions
        function openAdmin() {
            document.getElementById('adminPanel').style.display = 'block';
            document.body.style.overflow = 'hidden';
            renderPostsList();
        }

        function closeAdmin() {
            document.getElementById('adminPanel').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function switchTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(`tab-${tab}`).classList.add('active');
            
            if (tab === 'manage') renderPostsList();
        }

        function previewImage() {
            const url = document.getElementById('postImage').value;
            const preview = document.getElementById('imagePreview');
            if (url) {
                preview.innerHTML = `<img src="${url}" onerror="this.parentElement.innerHTML='<span>Invalid image URL</span>'">`;
            } else {
                preview.innerHTML = '<span>No image selected</span>';
            }
        }

        function savePost(e) {
            e.preventDefault();
            
            const newPost = {
                id: Date.now(),
                title: document.getElementById('postTitle').value,
                category: document.getElementById('postCategory').value,
                image: document.getElementById('postImage').value || 'https://via.placeholder.com/800x500?text=NewsDaily',
                excerpt: document.getElementById('postExcerpt').value,
                content: document.getElementById('postContent').value.replace(/\n/g, '<p>'),
                author: document.getElementById('postAuthor').value,
                date: new Date().toISOString(),
                views: 0
            };

            posts.unshift(newPost);
            saveToStorage();
            renderPosts();
            
            showToast('Post published successfully!', 'success');
            document.getElementById('postForm').reset();
            document.getElementById('imagePreview').innerHTML = '<span>No image selected</span>';
        }

        function renderPostsList() {
            const list = document.getElementById('postsList');
            const sorted = posts.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            list.innerHTML = sorted.map(post => `
                <div class="post-item">
                    <div class="post-info">
                        <h4>${post.title}</h4>
                        <small>${post.category} ‚Ä¢ ${formatDate(post.date)} ‚Ä¢ ${post.views} views</small>
                    </div>
                    <div class="post-actions">
                        <button class="btn btn-primary btn-small" onclick="editPost(${post.id})">Edit</button>
                        <button class="btn btn-danger btn-small" onclick="deletePost(${post.id})">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function deletePost(id) {
            if (confirm('Are you sure you want to delete this post?')) {
                posts = posts.filter(p => p.id !== id);
                saveToStorage();
                renderPosts();
                renderPostsList();
                showToast('Post deleted successfully', 'success');
            }
        }

        function editPost(id) {
            const post = posts.find(p => p.id === id);
            if (!post) return;

            document.getElementById('postTitle').value = post.title;
            document.getElementById('postCategory').value = post.category;
            document.getElementById('postImage').value = post.image;
            document.getElementById('postExcerpt').value = post.excerpt;
            document.getElementById('postContent').value = post.content.replace(/<p>/g, '\n').replace(/<\/p>/g, '');
            document.getElementById('postAuthor').value = post.author;
            
            previewImage();
            switchTab('new');
            
            // Remove old post
            posts = posts.filter(p => p.id !== id);
            saveToStorage();
        }

        function saveSettings() {
            settings.siteName = document.getElementById('siteName').value;
            settings.tickerText = document.getElementById('tickerText').value;
            saveToStorage();
            
            document.querySelector('.logo').innerHTML = `<span>${settings.siteName.split(' ')[0]}</span>${settings.siteName.split(' ').slice(1).join(' ') || 'Daily'}`;
            document.getElementById('ticker-text').textContent = settings.tickerText;
            
            showToast('Settings saved successfully', 'success');
        }

        // Data Export/Import
        function exportData() {
            const data = {
                posts: posts,
                settings: settings,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `newsdaily-backup-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showToast('Data exported successfully', 'success');
        }

        function importData() {
            try {
                const json = document.getElementById('importData').value;
                const data = JSON.parse(json);
                
                if (data.posts) posts = data.posts;
                if (data.settings) settings = data.settings;
                
                saveToStorage();
                renderPosts();
                showToast('Data imported successfully! Refreshing...', 'success');
                
                setTimeout(() => location.reload(), 1500);
            } catch (e) {
                showToast('Invalid JSON data', 'error');
            }
        }

        // Utilities
        function filterCategory(category) {
            renderPosts(category);
            showHome();
            window.scrollTo({ top: document.querySelector('.hero-section').offsetTop - 100, behavior: 'smooth' });
        }

        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', next);
            localStorage.setItem('theme', next);
        }

        function loadTheme() {
            const saved = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', saved);
        }

        function toggleMobileMenu() {
            document.getElementById('navMenu').classList.toggle('active');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diff = (now - date) / 1000;
            
            if (diff < 3600) return Math.floor(diff / 60) + ' min ago';
            if (diff < 86400) return Math.floor(diff / 3600) + ' hours ago';
            if (diff < 604800) return Math.floor(diff / 86400) + ' days ago';
            
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function updateDate() {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('current-date').textContent = new Date().toLocaleDateString('en-US', options);
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            document.getElementById('toastMessage').textContent = message;
            
            toast.className = `toast ${type} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeAdmin();
                if (document.getElementById('articlePage').style.display === 'block') {
                    showHome();
                }
            }
        });
    </script>
</body>
</html>
