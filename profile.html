<!DOCTYPE html>
<html lang="bn" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ - NewsDaily</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header-main">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo"><span>News</span>Daily</a>
                <div class="header-actions">
                    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
                    <a href="index.html" class="btn btn-secondary">‡¶π‡ßã‡¶Æ‡ßá ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®</a>
                </div>
            </div>
        </div>
    </header>

    <main class="profile-page">
        <div class="container">
            <div class="profile-layout">
                <!-- Sidebar -->
                <aside class="profile-sidebar">
                    <div class="profile-card">
                        <div class="profile-avatar" id="profileAvatar">üë§</div>
                        <h2 id="profileName">‡¶Ö‡¶§‡¶ø‡¶•‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ</h2>
                        <p id="profileEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶®‡ßá‡¶á</p>
                        <button class="btn btn-primary" onclick="editProfile()">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶è‡¶°‡¶ø‡¶ü</button>
                    </div>
                    
                    <nav class="profile-nav">
                        <a href="#" class="active" onclick="showProfileTab('dashboard')">üìä ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</a>
                        <a href="bookmarks.html">üîñ ‡¶¨‡ßÅ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï</a>
                        <a href="#" onclick="showProfileTab('comments')">üí¨ ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø</a>
                        <a href="#" onclick="showProfileTab('history')">üìñ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏</a>
                        <a href="#" onclick="showProfileTab('settings')">‚öôÔ∏è ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</a>
                        <a href="#" onclick="logoutUser()" style="color: #dc3545;">üö™ ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</a>
                    </nav>
                </aside>

                <!-- Main Content -->
                <div class="profile-main">
                    <!-- Dashboard Tab -->
                    <div class="profile-tab active" id="tab-dashboard">
                        <h2>‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
                        <div class="stats-grid-4">
                            <div class="stat-card">
                                <div class="stat-value" id="statBookmarks">‡ß¶</div>
                                <div class="stat-label">‡¶¨‡ßÅ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="statComments">‡ß¶</div>
                                <div class="stat-label">‡¶Æ‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="statLikes">‡ß¶</div>
                                <div class="stat-label">‡¶≤‡¶æ‡¶á‡¶ï</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="statRead">‡ß¶</div>
                                <div class="stat-label">‡¶™‡¶°‡¶º‡¶æ ‡¶Ü‡¶∞‡ßç‡¶ü‡¶ø‡¶ï‡ßá‡¶≤</div>
                            </div>
                        </div>
                    </div>

                    <!-- Comments Tab -->
                    <div class="profile-tab" id="tab-comments">
                        <h2>‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø</h2>
                        <div id="myCommentsList">
                            <p>‡¶ï‡ßã‡¶®‡ßã ‡¶Æ‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø ‡¶®‡ßá‡¶á</p>
                        </div>
                    </div>

                    <!-- History Tab -->
                    <div class="profile-tab" id="tab-history">
                        <h2>‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏</h2>
                        <div id="readingHistory">
                            <p>‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶®‡ßá‡¶á</p>
                        </div>
                    </div>

                    <!-- Settings Tab -->
                    <div class="profile-tab" id="tab-settings">
                        <h2>‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h2>
                        <form onsubmit="saveSettings(event)">
                            <div class="form-group">
                                <label>‡¶®‡¶æ‡¶Æ</label>
                                <input type="text" id="settingName">
                            </div>
                            <div class="form-group">
                                <label>‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                                <input type="email" id="settingEmail">
                            </div>
                            <div class="form-group">
                                <label>‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø</label>
                                <select id="settingPrefCat">
                                    <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                    <option value="‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º">‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º</option>
                                    <option value="‡¶∞‡¶æ‡¶ú‡¶®‡ßÄ‡¶§‡¶ø">‡¶∞‡¶æ‡¶ú‡¶®‡ßÄ‡¶§‡¶ø</option>
                                    <option value="‡¶ñ‡ßá‡¶≤‡¶æ">‡¶ñ‡ßá‡¶≤‡¶æ</option>
                                    <option value="‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø">‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="js/data.js"></script>
    <script src="js/user.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            loadUserProfile();
            loadUserStats();
        });

        function loadUserProfile() {
            const user = UserManager.getCurrentUser();
            if (user) {
                document.getElementById('profileName').textContent = user.name || '‡¶Ö‡¶§‡¶ø‡¶•‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ';
                document.getElementById('profileEmail').textContent = user.email || '‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶®‡ßá‡¶á';
                document.getElementById('profileAvatar').textContent = user.name ? user.name.charAt(0).toUpperCase() : 'üë§';
                
                document.getElementById('settingName').value = user.name || '';
                document.getElementById('settingEmail').value = user.email || '';
                document.getElementById('settingPrefCat').value = user.preferredCategory || '';
            }
        }

        function loadUserStats() {
            const stats = UserManager.getUserStats();
            document.getElementById('statBookmarks').textContent = stats.bookmarks;
            document.getElementById('statComments').textContent = stats.comments;
            document.getElementById('statLikes').textContent = stats.likes;
            document.getElementById('statRead').textContent = stats.readArticles;
        }

        function showProfileTab(tab) {
            document.querySelectorAll('.profile-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.profile-nav a').forEach(a => a.classList.remove('active'));
            
            document.getElementById('tab-' + tab).classList.add('active');
            event.target.classList.add('active');
        }

        function editProfile() {
            showProfileTab('settings');
        }

        function saveSettings(e) {
            e.preventDefault();
            const user = {
                name: document.getElementById('settingName').value,
                email: document.getElementById('settingEmail').value,
                preferredCategory: document.getElementById('settingPrefCat').value
            };
            UserManager.saveUser(user);
            loadUserProfile();
            showToast('‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
        }

        function logoutUser() {
            UserManager.logout();
            window.location.href = 'index.html';
        }

        function showToast(msg, type) {
            alert(msg); // Simple alert for now
        }
    </script>
</body>
</html>
